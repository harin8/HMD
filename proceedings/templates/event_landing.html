{% extends "layout.html" %}
{% block head_block %}
    {% load static %}
    <title>HMD|Proceedings</title>
{% endblock %}
{% block body_block %}
{% load certificate_tags %}

<div class="container-fluid">
    <div class="row">
        <div class="col-md-6 py-3 mt-2">
            <h1 style="text-align:right; color:black;">{{ Data_Dict.Name }}</h1>
        </div>
         <div class="col-md-6 py-3 mt-2 text-right" style="padding-right:20px;">
            <a style="color: white" id="backButton" {% if Data_Dict.Type == 3%} href="{% url 'Other Proceedings Landing' %}"  {% endif %} {% if Data_Dict.Type == 2%} href="{% url 'Judicial Proceedings Landing' %}"  {% endif %} {% if Data_Dict.Type == 1%} href="{% url 'Regular Proceedings Landing' %}"  {% endif %}><button style="width: 200px;background-color:#0277bd;text-decoration:underline" class="btn btn-secondary back">Back</button></a>
        </div>
    </div>
    <br>
    {% if Event_list|length > 0 %}
     <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-body">
                    <div class="table-responsive">
                        <input type="hidden" name="clientName" value="{{ Data_Dict.Name }}">
                        <table cellpadding="1" cellspacing="2" border="0" class="table table-striped table-bordered dataTable" id="existing-eventsList" width="100%">
                             <thead>
                                <tr>
                                    <th align="left"> AY:</th>
                                    <th align="left">Section: </th>
                                    <th align="left">Description: </th>
                                    <th align="left">Case Reference No: </th>
                                    <th align="left">Forum/Bench: </th>
                                    <th align="left">Status: </th>
                                                           
<th></th>
                                </tr>
                            </thead>
                            <tbody>
<tr>
                                <td> {{Data_Dict.AY}}</td>
                                <td>{{Data_Dict.Section}}</td>
                                <td>{{Data_Dict.Description}}</td>
                                <td>{{Data_Dict.Case_reference_no}}</td>
                                <td>{{Data_Dict.Forum_bench}}</td>
                                {% if Data_Dict.Status  == "Completed" %}
                                    <td align="left">Completed</td>
                                {% else %}
                                    <td  align="left">Pending</td>
                                {% endif %}                                    

                                <td></td>
                            </tr>
<tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <th align="left">Group Name: </th>
                                <th align="left"> Client Code:  </th>
                                <th align="left">Led By: </th>
<th></th>
                                <th align="left">Base Document: </th>
                                    <th align="left">Base Date: </th>
                                
                                
                                <td></td>
                            </tr>
<tr>
                                <td>{{Data_Dict.Group_name}}</td>
                                <td>{{Data_Dict.Client_code}}</td>
                                <td>{{Data_Dict.Led_by}}</td>
                                <td></td>
                                <td>{{Data_Dict.Base_document}}</td>
                                <td>{{Data_Dict.Base_date}}</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
  <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <th style="text-align:center;">Date</th>
                                <th style="text-align:center;">Actual Date</th>
                                <th style="text-align:center;">Type</th>
                                <th style="text-align:center;">Particulars</th>
                                <th style="text-align:center;">Next Date</th>
                                <th style="text-align:center;">Handled By</th>
                                <th style="text-align:center;">Remarks</th>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
    <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            {% for each_event in Event_list %}
                                <tr>
                                    <td align="left">{{ each_event.Event_date }}</td>
                                    <td align="left">{{ each_event.Event_actual_date }}</td>
                                    <td align="left">{{ each_event.Event_type }}</td>
                                    <td align="left">{{ each_event.Event_particulars }}</td>
                                    <td align="left">{{ each_event.Event_next_date }}</td>
                                    <td align="left">{{ each_event.Event_handled_by }}</td>
                                    <td align="left">{{ each_event.Event_remarks }}</td>
                                </tr>
                            {% endfor %}
			
 				{% if Data_Dict.Status  == "Completed" %}
 				 <tr>
                              	  <td></td>
                                  <td></td>
                                  <td></td>
                                  <td></td>
                                  <td></td>
                                  <td></td>
                                  <td></td>
                                </tr>
                                <tr {% if Data_Dict.Status  == "Completed" %} style="background-color:#98cc65" {% endif %}> 
				  <td align="left">{{ Data_Dict.Closure_date }}</td>
                                   <td align="left">{{ Data_Dict.Actual_closure_date }}</td>
                                   <td align="left">{{ Data_Dict.Closure_type }}</td>
                                   <td align="left">{{ Data_Dict.Closure_particulars }}</td>
                                   <td align="left">--NA--</td>
                                   <td align="left">{{ Data_Dict.Closure_handled_by }}</td>
                                   <td align="left">{{ Data_Dict.Closure_remarks }}</td>
                            	</tr>
                                {% endif %}    
                            </tbody>
                            <tfoot>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% else %}
        <div class="col-md-12 py-3 mt-2">
            <h6><center>No Existing Events</center></h6>
        </div>
    {% endif %}
</div>

<script>
    $(document).ready( function () {
         var event_table = $('#existing-eventsList').DataTable({
            dom: 'Bfrtip',
	        "ordering" : false,
            "iDisplayLength": 1000,
			buttons: [{
                extend :'pdf',
                title: $
                ("input[name=clientName]").val()
            },
{
                extend :'excel',
                title: $
                ("input[name=clientName]").val()
            }
]
        });
    });

</script>
{% endblock %}